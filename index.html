<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soluções Customizadas para Metalmecânicas | Tiago Ribeiro</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 100%);
            color: #e0e0e0;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* HEADER */
        header {
            padding: 20px 0;
            border-bottom: 1px solid #333;
            position: sticky;
            top: 0;
            background: rgba(15, 15, 15, 0.95);
            backdrop-filter: blur(10px);
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 20px;
            font-weight: 700;
            color: #fff;
            letter-spacing: -0.5px;
        }

        .logo span {
            color: #ff6b35;
        }

        /* HERO SECTION */
        .hero {
            padding: 60px 0;
            text-align: center;
        }

        .hero h1 {
            font-size: clamp(28px, 5vw, 48px);
            font-weight: 700;
            margin-bottom: 20px;
            color: #fff;
            line-height: 1.2;
        }

        .hero h1 .highlight {
            color: #ff6b35;
        }

        .hero p {
            font-size: clamp(16px, 2vw, 20px);
            color: #b0b0b0;
            margin-bottom: 30px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        /* STORY SECTION */
        .story-section {
            padding: 60px 0;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 12px;
            margin-bottom: 60px;
            padding: 40px 30px;
        }

        .story-block {
            margin-bottom: 40px;
        }

        .story-block:last-child {
            margin-bottom: 0;
        }

        .story-label {
            display: inline-block;
            background: #ff6b35;
            color: #fff;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .story-block h2 {
            font-size: clamp(20px, 3vw, 28px);
            margin-bottom: 15px;
            color: #fff;
        }

        .story-block p {
            font-size: 16px;
            color: #b0b0b0;
            margin-bottom: 12px;
        }

        .story-block ul {
            list-style: none;
            margin-top: 15px;
        }

        .story-block li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            color: #b0b0b0;
            font-size: 15px;
        }

        .story-block li:before {
            content: "→";
            position: absolute;
            left: 0;
            color: #ff6b35;
            font-weight: bold;
        }

        /* FORM SECTION */
        .form-section {
            padding: 60px 0;
        }

        .form-container {
            max-width: 700px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.03);
            padding: 40px;
            border-radius: 12px;
            border: 1px solid #333;
        }

        .form-container h3 {
            font-size: 24px;
            margin-bottom: 10px;
            color: #fff;
            text-align: center;
        }

        .form-container .form-intro {
            text-align: center;
            color: #b0b0b0;
            margin-bottom: 30px;
            font-size: 14px;
        }

        /* PROGRESS BAR */
        .progress-container {
            margin-bottom: 30px;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b35 0%, #ff5722 100%);
            transition: width 0.3s ease;
        }

        .progress-text {
            font-size: 12px;
            color: #999;
            margin-top: 8px;
            text-align: right;
        }

        /* FORM GROUP */
        .form-group {
            margin-bottom: 20px;
            animation: slideIn 0.4s ease-out;
        }

        .form-group.hidden {
            display: none;
        }

        .form-group label {
            display: block;
            margin-bottom: 12px;
            color: #e0e0e0;
            font-size: 16px;
            font-weight: 500;
            line-height: 1.4;
        }

        .form-group .optional-label {
            color: #999;
            font-size: 13px;
            font-weight: 400;
            margin-left: 4px;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #444;
            border-radius: 6px;
            color: #e0e0e0;
            font-family: inherit;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #ff6b35;
            background: rgba(255, 255, 255, 0.08);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .form-group textarea.large {
            min-height: 120px;
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: #666;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            padding: 12px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .radio-option:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: #ff6b35;
        }

        .radio-option input[type="radio"] {
            width: auto;
            margin-right: 10px;
            cursor: pointer;
            accent-color: #ff6b35;
        }

        .radio-option label {
            margin: 0;
            cursor: pointer;
            flex: 1;
            font-size: 14px;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .checkbox-option {
            display: flex;
            align-items: center;
            padding: 12px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .checkbox-option:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: #ff6b35;
        }

        .checkbox-option input[type="checkbox"] {
            width: auto;
            margin-right: 10px;
            cursor: pointer;
            accent-color: #ff6b35;
        }

        .checkbox-option label {
            margin: 0;
            cursor: pointer;
            flex: 1;
            font-size: 14px;
        }

        /* BUTTONS */
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }

        .btn {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-back {
            background: rgba(255, 255, 255, 0.1);
            color: #e0e0e0;
            border: 1px solid #444;
        }

        .btn-back:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .btn-next {
            background: linear-gradient(135deg, #ff6b35 0%, #ff5722 100%);
            color: #fff;
        }

        .btn-next:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(255, 107, 53, 0.3);
        }

        .btn-next:active {
            transform: translateY(0);
        }

        .btn-next:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* FOOTER */
        footer {
            padding: 40px 0;
            border-top: 1px solid #333;
            text-align: center;
            color: #666;
            font-size: 13px;
            margin-top: 60px;
        }

        .footer-info {
            margin-bottom: 15px;
        }

        .footer-info a {
            color: #ff6b35;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-info a:hover {
            color: #ff5722;
        }

        /* ANIMATIONS */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .hero, .story-section, .form-section {
            animation: fadeInUp 0.8s ease-out;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .container {
                padding: 0 15px;
            }

            .header-content {
                flex-direction: column;
                gap: 15px;
            }

            .hero {
                padding: 40px 0;
            }

            .story-section {
                padding: 30px 15px;
                margin-bottom: 40px;
            }

            .form-section {
                padding: 40px 0;
            }

            .form-container {
                padding: 25px 15px;
                border-radius: 8px;
            }

            .form-container h3 {
                font-size: 20px;
            }

            .story-block h2 {
                font-size: 20px;
            }

            .form-group label {
                font-size: 15px;
                line-height: 1.5;
                margin-bottom: 10px;
            }

            .radio-option,
            .checkbox-option {
                padding: 10px;
                align-items: flex-start;
            }

            .radio-option label,
            .checkbox-option label {
                font-size: 13px;
                line-height: 1.5;
            }

            .radio-option input[type="radio"],
            .checkbox-option input[type="checkbox"] {
                margin-top: 2px;
                flex-shrink: 0;
            }

            .form-group input,
            .form-group textarea,
            .form-group select {
                font-size: 16px;
                padding: 12px 10px;
            }

            .button-group {
                flex-direction: column;
                gap: 12px;
                margin-top: 25px;
            }

            .btn {
                width: 100%;
                padding: 16px;
                font-size: 13px;
            }

            .progress-text {
                font-size: 11px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 12px;
            }

            .form-container {
                padding: 20px 12px;
            }

            .form-container h3 {
                font-size: 18px;
            }

            .form-group label {
                font-size: 14px;
            }

            .radio-option,
            .checkbox-option {
                padding: 8px;
            }

            .radio-option label,
            .checkbox-option label {
                font-size: 12px;
            }

            .btn {
                padding: 14px;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">Tiago <span>Ribeiro</span></div>
                <div style="font-size: 12px; color: #666;">Otimização de Processos</div>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <!-- FORM SECTION -->
            <section class="form-section">
                <div class="form-container">
                    <h3>Formulário de Análise</h3>
                    <p class="form-intro">Responda com atenção. Suas respostas são o primeiro passo para construirmos uma solução que vai trazer resultados reais para seu negócio.</p>
                    
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div class="progress-text"><span id="currentQuestion">1</span> de <span id="totalQuestions">21</span></div>
                    </div>

                    <form id="diagnosticoForm">
                        <!-- PARTE 1: INFORMAÇÕES GERAIS -->
                        <div class="form-group" data-question="1">
                            <label for="empresa">Qual é o nome da sua empresa? *</label>
                            <input type="text" id="empresa" name="empresa" required>
                        </div>

                        <div class="form-group hidden" data-question="2">
                            <label for="nome_cargo">Qual é seu nome e cargo? *</label>
                            <input type="text" id="nome_cargo" name="nome_cargo" placeholder="Ex: João Silva - Diretor" required>
                        </div>

                        <div class="form-group hidden" data-question="3">
                            <label for="email">Qual é seu e-mail? *</label>
                            <input type="email" id="email" name="email" required>
                        </div>

                        <div class="form-group hidden" data-question="4">
                            <label for="whatsapp">Qual é seu WhatsApp? *</label>
                            <input type="tel" id="whatsapp" name="whatsapp" placeholder="(27) 99999-9999" required>
                        </div>

                        <div class="form-group hidden" data-question="5">
                            <label for="funcionarios">Quantos funcionários você tem na empresa? *</label>
                            <input type="number" id="funcionarios" name="funcionarios" required>
                        </div>

                        <div class="form-group hidden" data-question="6">
                            <label for="produto_servico">Qual é o seu principal produto ou serviço? *</label>
                            <input type="text" id="produto_servico" name="produto_servico" placeholder="Ex: Usinagem, caldeiraria, etc." required>
                        </div>

                        <div class="form-group hidden" data-question="7">
                            <label for="maior_desafio_inicial">Qual é o maior problema que você enfrenta hoje na sua empresa? *</label>
                            <textarea id="maior_desafio_inicial" name="maior_desafio_inicial" required></textarea>
                        </div>

                        <!-- PARTE 2: DIAGNÓSTICO OPERACIONAL -->
                        <div class="form-group hidden" data-question="8">
                            <label>Como você controla as ordens de produção? *</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" id="pcp_excel" name="controle_producao" value="Planilha Excel" required>
                                    <label for="pcp_excel">Planilha Excel</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="pcp_papel" name="controle_producao" value="Quadros brancos / Papel">
                                    <label for="pcp_papel">Quadros brancos / Papel</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="pcp_erp" name="controle_producao" value="Sistema ERP / Software específico">
                                    <label for="pcp_erp">Sistema ERP / Software específico</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="pcp_sem" name="controle_producao" value="Não temos um controle formal">
                                    <label for="pcp_sem">Não temos um controle formal</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group hidden" data-question="9">
                            <label>Com que frequência seus pedidos chegam atrasados ao cliente? *</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" id="atraso_raro" name="frequencia_atrasos" value="Raramente (menos de 5%)" required>
                                    <label for="atraso_raro">Raramente (menos de 5%)</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="atraso_as_vezes" name="frequencia_atrasos" value="Às vezes (5-15%)">
                                    <label for="atraso_as_vezes">Às vezes (5-15%)</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="atraso_freq" name="frequencia_atrasos" value="Frequentemente (15-30%)">
                                    <label for="atraso_freq">Frequentemente (15-30%)</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="atraso_sempre" name="frequencia_atrasos" value="Quase sempre (mais de 30%)">
                                    <label for="atraso_sempre">Quase sempre (mais de 30%)</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group hidden" data-question="10">
                            <label>Você sabe em tempo real em que etapa está cada pedido na produção? *</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" id="vis_sim" name="visibilidade_producao" value="Sim, com precisão" required>
                                    <label for="vis_sim">Sim, com precisão</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="vis_ideia" name="visibilidade_producao" value="Tenho uma ideia, mas não é em tempo real">
                                    <label for="vis_ideia">Tenho uma ideia, mas não é em tempo real</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="vis_nao" name="visibilidade_producao" value="Não, as informações estão espalhadas">
                                    <label for="vis_nao">Não, as informações estão espalhadas</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group hidden" data-question="11">
                            <label>Como você verifica a qualidade dos seus produtos? *</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" id="qual_visual" name="medicao_qualidade" value="Inspeção visual no final" required>
                                    <label for="qual_visual">Inspeção visual no final</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="qual_formal" name="medicao_qualidade" value="Medições e testes formais">
                                    <label for="qual_formal">Medições e testes formais</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="qual_feedback" name="medicao_qualidade" value="Apenas quando o cliente reclama">
                                    <label for="qual_feedback">Apenas quando o cliente reclama</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="qual_sem" name="medicao_qualidade" value="Não temos um processo formal">
                                    <label for="qual_sem">Não temos um processo formal</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group hidden" data-question="12">
                            <label>Qual é a taxa de peças com defeito ou que precisam ser refeitas? *</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" id="retrab_nao_sei" name="taxa_retrabalho" value="Não sei medir" required>
                                    <label for="retrab_nao_sei">Não sei medir</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="retrab_baixa" name="taxa_retrabalho" value="Baixa (menos de 2%)">
                                    <label for="retrab_baixa">Baixa (menos de 2%)</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="retrab_media" name="taxa_retrabalho" value="Média (2-5%)">
                                    <label for="retrab_media">Média (2-5%)</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="retrab_alta" name="taxa_retrabalho" value="Alta (mais de 5%)">
                                    <label for="retrab_alta">Alta (mais de 5%)</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group hidden" data-question="13">
                            <label>Com que frequência suas máquinas param por quebras inesperadas? *</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" id="quebra_raro" name="frequencia_quebras" value="Raramente (menos de 1 vez por mês)" required>
                                    <label for="quebra_raro">Raramente (menos de 1 vez por mês)</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="quebra_ocasional" name="frequencia_quebras" value="Ocasionalmente (1-3 vezes por mês)">
                                    <label for="quebra_ocasional">Ocasionalmente (1-3 vezes por mês)</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="quebra_freq" name="frequencia_quebras" value="Frequentemente (mais de 3 vezes por mês)">
                                    <label for="quebra_freq">Frequentemente (mais de 3 vezes por mês)</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group hidden" data-question="14">
                            <label>Você tem um plano de manutenção das máquinas? *</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" id="manut_sim_rigoroso" name="manutencao_preventiva" value="Sim, e seguimos certinho" required>
                                    <label for="manut_sim_rigoroso">Sim, e seguimos certinho</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="manut_sim_nem_sempre" name="manutencao_preventiva" value="Sim, mas nem sempre conseguimos">
                                    <label for="manut_sim_nem_sempre">Sim, mas nem sempre conseguimos</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="manut_nao" name="manutencao_preventiva" value="Não, só consertamos quando quebra">
                                    <label for="manut_nao">Não, só consertamos quando quebra</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group hidden" data-question="15">
                            <label>Com que frequência a produção para por falta de material? *</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" id="falta_mp_raro" name="falta_materia_prima" value="Raramente" required>
                                    <label for="falta_mp_raro">Raramente</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="falta_mp_ocasional" name="falta_materia_prima" value="Ocasionalmente">
                                    <label for="falta_mp_ocasional">Ocasionalmente</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="falta_mp_freq" name="falta_materia_prima" value="Frequentemente">
                                    <label for="falta_mp_freq">Frequentemente</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group hidden" data-question="16">
                            <label>Você sabe exatamente quanto tem de material e produtos prontos em estoque agora? *</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" id="estoque_sim" name="controle_estoque" value="Sim, temos controle em tempo real" required>
                                    <label for="estoque_sim">Sim, temos controle em tempo real</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="estoque_estimativa" name="controle_estoque" value="Tenho uma ideia aproximada">
                                    <label for="estoque_estimativa">Tenho uma ideia aproximada</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="estoque_nao" name="controle_estoque" value="Não sei">
                                    <label for="estoque_nao">Não sei</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group hidden" data-question="17">
                            <label>Como você gerencia seus fornecedores de material? *</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" id="forn_sistema" name="gestao_fornecedores" value="Temos um sistema de controle" required>
                                    <label for="forn_sistema">Temos um sistema de controle</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="forn_planilha" name="gestao_fornecedores" value="Controlamos por planilhas ou cadernos">
                                    <label for="forn_planilha">Controlamos por planilhas ou cadernos</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="forn_sem_controle" name="gestao_fornecedores" value="Não temos um controle formal">
                                    <label for="forn_sem_controle">Não temos um controle formal</label>
                                </div>
                            </div>
                        </div>

                        <!-- PARTE 3: DIAGNÓSTICO DE GESTÃO E COMERCIAL -->
                        <div class="form-group hidden" data-question="18">
                            <label>Como é a comunicação entre vendas, engenharia e produção? *</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" id="com_fluida" name="comunicacao_areas" value="Fluida e integrada" required>
                                    <label for="com_fluida">Fluida e integrada</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="com_ruidos" name="comunicacao_areas" value="Funciona, mas com problemas">
                                    <label for="com_ruidos">Funciona, mas com problemas</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="com_gargalo" name="comunicacao_areas" value="É um grande problema">
                                    <label for="com_gargalo">É um grande problema</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group hidden" data-question="19">
                            <label>Qual é o principal motivo pelo qual você perde vendas para concorrentes? *</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" id="perde_preco" name="motivo_perde_vendas" value="Preço" required>
                                    <label for="perde_preco">Preço</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="perde_prazo" name="motivo_perde_vendas" value="Prazo de entrega">
                                    <label for="perde_prazo">Prazo de entrega</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="perde_qualidade" name="motivo_perde_vendas" value="Qualidade">
                                    <label for="perde_qualidade">Qualidade</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="perde_nao_sei" name="motivo_perde_vendas" value="Não sei">
                                    <label for="perde_nao_sei">Não sei</label>
                                </div>
                            </div>
                        </div>

                        <!-- PARTE 4: PERGUNTAS FINAIS -->
                        <div class="form-group hidden" data-question="20">
                            <label for="problema_unico">Se você pudesse resolver UM ÚNICO problema na sua empresa hoje, qual seria? *</label>
                            <textarea id="problema_unico" name="problema_unico" required></textarea>
                        </div>

                        <!-- NOVA PERGUNTA 21: CAMPO ABERTO OPCIONAL -->
                        <div class="form-group hidden" data-question="21">
                            <label for="contexto_adicional">
                                Há mais algum detalhe sobre sua operação que você acha importante mencionar?
                                <span class="optional-label">(opcional)</span>
                            </label>
                            <textarea id="contexto_adicional" name="contexto_adicional" class="large" placeholder="Ex: sazonalidade do negócio, projetos especiais em andamento, tentativas anteriores de solução, peculiaridades da sua operação, etc."></textarea>
                        </div>

                        <div class="button-group" id="buttonGroup" style="display: none;">
                            <button type="button" class="btn btn-back" id="btnBack">Voltar</button>
                            <button type="button" class="btn btn-next" id="btnNext">Próximo</button>
                        </div>
                    </form>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-info">
                <strong>Tiago Ribeiro</strong> | Consultoria em Otimização de Processos
            </div>
            <div class="footer-info">
                Email: <a href="mailto:tiagosantosr59@gmail.com">tiagosantosr59@gmail.com</a>
            </div>
            <div class="footer-info">
                CNPJ: [Seu CNPJ aqui] | Espírito Santo, Brasil
            </div>
            <div style="margin-top: 20px; color: #444;">
                © 2025 Tiago Ribeiro. Todos os direitos reservados.
            </div>
        </div>
    </footer>

    <!-- Supabase JS Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <script>
        // Configuração do Supabase
        const SUPABASE_URL = 'https://omrodclevaidlijnnqeq.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9tcm9kY2xldmFpZGxpam5ucWVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MjUwNjUsImV4cCI6MjA4MDIwMTA2NX0.J_Xwh_0aju6-bxGGAk7PxkfIs_5Vr4_01EVFECcpOpE';
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // Configuração do formulário dinâmico
        let currentQuestion = 1;
        const totalQuestions = 21;
        let formData = {};

        const form = document.getElementById('diagnosticoForm');
        const btnNext = document.getElementById('btnNext');
        const btnBack = document.getElementById('btnBack');
        const buttonGroup = document.getElementById('buttonGroup');
        const progressFill = document.getElementById('progressFill');
        const currentQuestionSpan = document.getElementById('currentQuestion');
        const totalQuestionsSpan = document.getElementById('totalQuestions');

        // Atualizar total de questões
        totalQuestionsSpan.textContent = totalQuestions;

        // Mostrar primeira pergunta
        function showQuestion(questionNumber) {
            // Esconder todas as perguntas
            document.querySelectorAll('.form-group').forEach(group => {
                group.classList.add('hidden');
            });

            // Mostrar pergunta atual
            const currentGroup = document.querySelector(`[data-question="${questionNumber}"]`);
            if (currentGroup) {
                currentGroup.classList.remove('hidden');
            }

            // Atualizar progresso
            currentQuestionSpan.textContent = questionNumber;
            const progress = (questionNumber / totalQuestions) * 100;
            progressFill.style.width = progress + '%';

            // Atualizar botões
            btnBack.style.display = questionNumber === 1 ? 'none' : 'block';
            btnNext.textContent = questionNumber === totalQuestions ? 'Enviar' : 'Próximo';
            buttonGroup.style.display = 'flex';

            // Scroll para o topo
            form.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        // Validar pergunta atual
        function validateCurrentQuestion() {
            const currentGroup = document.querySelector(`[data-question="${currentQuestion}"]`);
            if (!currentGroup) return true;

            const inputs = currentGroup.querySelectorAll('input[required], textarea[required]');
            for (let input of inputs) {
                if (input.type === 'radio' || input.type === 'checkbox') {
                    const name = input.name;
                    const checked = document.querySelector(`input[name="${name}"]:checked`);
                    if (!checked) return false;
                } else {
                    if (!input.value.trim()) return false;
                }
            }
            return true;
        }

        // Próxima pergunta
        btnNext.addEventListener('click', async function() {
            if (!validateCurrentQuestion()) {
                alert('Por favor, responda a pergunta antes de continuar.');
                return;
            }

            if (currentQuestion === totalQuestions) {
                // Submeter formulário
                await submitForm();
            } else {
                currentQuestion++;
                showQuestion(currentQuestion);
            }
        });

        // Pergunta anterior
        btnBack.addEventListener('click', function() {
            if (currentQuestion > 1) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        });

        // Submeter formulário
        async function submitForm() {
            const submitBtn = btnNext;
            const originalText = submitBtn.textContent;
            submitBtn.disabled = true;
            submitBtn.textContent = 'Enviando...';

            try {
                // Coletar dados do formulário
                const formDataObj = new FormData(form);
                const data = {};

                formDataObj.forEach((value, key) => {
                    data[key] = value;
                });

                // Converter número de funcionários para integer
                if (data.funcionarios) {
                    data.funcionarios = parseInt(data.funcionarios);
                }

                // Adicionar timestamp
                data.data_preenchimento = new Date().toISOString();

                console.log('Enviando dados:', data);

                // Enviar para o Supabase
                const { data: result, error } = await supabase
                    .from('leads_diagnostico')
                    .insert([data])
                    .select();

                if (error) {
                    console.error('Erro ao salvar:', error);
                    alert('Erro ao enviar formulário. Por favor, tente novamente ou entre em contato via email: tiagosantosr59@gmail.com');
                    submitBtn.disabled = false;
                    submitBtn.textContent = originalText;
                    return;
                }

                console.log('Dados salvos com sucesso:', result);

                // Redirecionar para página de obrigado
                window.location.href = 'obrigado.html';
                
            } catch (err) {
                console.error('Erro inesperado:', err);
                alert('Erro ao enviar formulário. Por favor, tente novamente ou entre em contato via email: tiagosantosr59@gmail.com');
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = originalText;
            }
        }

        // Inicializar
        showQuestion(1);
    </script>
</body>
</html>